### Проблемы и узкие места
1. Необходимо масштабировать систему MES как горизонтально так и вертикально. С учетом того что клиенты жалутются что заказы не доходят до клиента это может значит то что копится большая очередь заказов которые система не успеевает обработать. Требуется увеличить количество обработчиков 
2. Проблемы с загрузкой главное MES: не хватает индексов в БД и кеширования. Так же стоит рассмотреть партицирование для старых заказов потому что быстрый доступ актуален только для новых заказов.  
3. Отсуствует мониторинг и алертинг времени обработки заказа на каждом этапе. Это бы помогало команде монить свои узкие места, заранее предупреждать клиентов о задержках и расшивать узкие места в случае увеличения нагрузки
4. Приложения запущено в одном экземляре. Отсуствует катострофоустройчивость. Проблемы при горизонтальном масштабировании. Что актуально при API интеграциях которые могут сильно быстрее машстабироваться
5. Базы данных работают в одном экземпляре. Риск потери данных. Не катострофоустройчиво. Проблемы при горизонтальном масштабировании
6. Деплой на продакшен не автоматизирован. Риск ошибки при ручном деплое. Человеческий фактор
7. Отсуствуют автотесты. Много ручной работы тестировщика. Замедляет TTM. 
8. Отсуствует тротлинг API сервера
9. Не настроены Backpressure и Circuit Breaker для MES системы
10. Не настроены монитроинги метрики и логирование в современные системы типа: Graphite, ELK 
11. CRM API и SHOP API используют одну БД. Нарушение паттерна Database per service. Это приводит к тому что один из сервисов может исчерпать все конекшены к БД и упадет вся система. В случае единой бд потребуется согласование схемы миграции между системами. Такая тесная связка затрудит разделение на две независимые команды: команды CRM и команды магазина
12. В статусной моделе заказа нет статуса: "Цена расчитывается" для отображения прогресса клиенту в рамках длительной асинхронной операции
13. Разный стек у бекендов. Не взаимозаменяемость разработчиков
14. Бассфактор и не взаимозаменяемость по разным ролям


### Инициативы для устранения нежелательных ситуаций
1. Инициатива Мониторинг. В текущей системе не настроен мониторинг систем и технологических процессов системы. Это не позволяет корректно определить узкие места. Прежде чем приступать к изменению архитектуры необходимо внедрить монитинг и метрики в системы и провалидировать на основании данных гипотезы выдвинутые в разделе "Проблемы и узкие места". Необходимо скоректировать приоритеты по задачам после анализа метрик. Инициатива включает в себя
   2. Настройку экспорта метрик в систему сбора метрик 
   3. Настройка метрика на критические технологические процессы компании
   3. Настройку алертинга на технические ошибки в критических бизнесс процессах компании
   4. Настройку экспорта метрик в ELK
   5. Настройку трасировок API запросов
2. Иницатива Производительность. 
   3. Исходя из описания проблем можно предположить что узким местом является система MES (длительные асинхронные операции). Необходимо горизонтально и вертикально масштабировать систему
   4. Очереди. С учетом того что клиенты жалутются что заказы не доходят до клиента это может значит то что копится большая очередь заказов которые система не успеевает обработать. Требуется увеличить количество обработчиков
   5. Настроить индексы в БД. Так же стоит рассмотреть партицирование для старых заказов потому что быстрый доступ актуален только для новых заказов.
   6. Внедрить кеширование в сервис для загрузки главной страницы. Кеш можно инвалидировать со события из АПИ или очереди
2. Иницатива Автотесты. Регрес должен быть полностью автоматизирован. Это сократит TTM, уменьшит количество багов в приложении. Разработчики и тестировщики будут больше сконцентрированы на разработке нового функционала. Тестировщик готов развивать автотесты, сопротивления в команде не будет. Для сохранения продуктивности команды на преждем уровне необходимо нанять еще 1-2 тестировщика
3. Иницатива Катострофоустройчивость. У компании есть риск полностью потерять все свои данные или из-за сбоя прекратить обработку заказов. В текущих кризисных условиях в которых находится компания это недопустимо.
   5. Настроить реплицирование БД в разных зонах для сохранения данных. 
   6. Настроить бекапирования БД. 
4. Иницатива Отказоустройчивость.  Все сервисы работают в 1 экземпляре в случае инцидентов или роста нагрузки система может полностью выйти из строя. Необходимо внедрить горизонатльное масштабирование 
   6. Перенести RabbitMQ в YandexCloud, настроить репликацию данных.
   7. Развернуть систему в нескольких экземлярах в разных зонах 
5. Иницатива Бассфактор
   6. Бассфактор С# разработчика в ключевом компоненте системы MES. Необходимо нанять миниму 1 разработчика С# или отправить одного Java разработичка на курсы повышения квалификации где его научат писать на C#
   7. Бассфактор тестирование. Запланировать найм 1-2 тестировщиков для развития автотестов 
   8. Бассфактор devops. Для реализации инициатив "Мониторинг", "Катострофоустройчивость", "Отказоустройчивость" потребуется больше девопсов. Необходимо запланировать найм еще двух девопсов